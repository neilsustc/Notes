(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{569:function(t,s,a){"use strict";a.r(s);var l=a(26),c=Object(l.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"python-代码片段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#python-代码片段"}},[t._v("#")]),t._v(" Python 代码片段")]),t._v(" "),a("h2",{attrs:{id:"线程池"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#线程池"}},[t._v("#")]),t._v(" 线程池")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#fff"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("import")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" time")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("from")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" multiprocessing ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("import")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" Pool")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#005CC5"}},[t._v("NUM_PROCESSES")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("4")])]),t._v("\n\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("def")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#6F42C1"}},[t._v("func_single_arg")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(a):")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    time.sleep(")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("1")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("return")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" a ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("*")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" a")])]),t._v("\n\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("def")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#6F42C1"}},[t._v("func_multi_args")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(a, b):")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    time.sleep(")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("1")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("return")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" a ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("*")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" b")])]),t._v("\n\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("def")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#6F42C1"}},[t._v("main")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("():")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    single_arg_list ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" [")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("1")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("2")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("3")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("4")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("]")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    multi_args_list ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" [(")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("1")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("2")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("), (")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("3")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("4")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("), (")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("5")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("6")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("), (")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("7")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("8")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")]")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("with")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" Pool(")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("NUM_PROCESSES")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(") ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("as")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" p:")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("        results ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" p.map(func_single_arg, single_arg_list)")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("        ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("print")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(results)")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("        results ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" p.starmap(func_multi_args, multi_args_list)")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("        ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("print")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(results)")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("        ")]),a("span",{staticStyle:{color:"#6A737D"}},[t._v("## imap 可以与 tqdm 配合显示进度条")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("        ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("for")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" result ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("in")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" p.imap(func_single_arg, single_arg_list):")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("            ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("print")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(result, ")]),a("span",{staticStyle:{color:"#E36209"}},[t._v("end")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('" "')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("if")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("__name__")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("==")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" ")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"__main__"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(":")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("    main()")])])])])]),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("[1, 4, 9, 16]\n[2, 12, 30, 56]\n1 4 9 16 \n")])])]),a("h2",{attrs:{id:"用户目录与临时目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户目录与临时目录"}},[t._v("#")]),t._v(" 用户目录与临时目录")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#fff"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("from")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" os.path ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("import")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" expanduser")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("from")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" tempfile ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("import")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" gettempdir")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("expanduser(")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"~/somewhere"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#6A737D"}},[t._v('## -> "C:\\\\Users\\\\<user_name>/somewhere" (on Windows)')])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("gettempdir()")])])])])]),a("h2",{attrs:{id:"在命令行打印进度"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在命令行打印进度"}},[t._v("#")]),t._v(" 在命令行打印进度")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#fff"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#005CC5"}},[t._v("print")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("(")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("f")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"')]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("{")]),a("span",{staticStyle:{color:"#24292E"}},[t._v("progress")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v(":.2f")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("}")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('%"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#E36209"}},[t._v("end")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"')]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("\\r")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#E36209"}},[t._v("flush")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("True")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])])])])]),a("p",[t._v("或者使用 "),a("code",[t._v("tqdm")])]),t._v(" "),a("h2",{attrs:{id:"gui-相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gui-相关"}},[t._v("#")]),t._v(" GUI 相关")]),t._v(" "),a("h3",{attrs:{id:"弹出消息框"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#弹出消息框"}},[t._v("#")]),t._v(" 弹出消息框")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{staticClass:"shiki",staticStyle:{"background-color":"#fff"}},[a("code",[a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#D73A49"}},[t._v("from")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" tkinter ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("import")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" Tk, messagebox")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#6A737D"}},[t._v("## Get rid of the root window")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("root ")]),a("span",{staticStyle:{color:"#D73A49"}},[t._v("=")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(" Tk()")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("root.title(")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"Title"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("root.attributes(")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"-alpha"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#005CC5"}},[t._v("0.0")]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("root.wm_state(")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"iconic"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("messagebox.showinfo(")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"Title"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(", ")]),a("span",{staticStyle:{color:"#032F62"}},[t._v('"Message"')]),a("span",{staticStyle:{color:"#24292E"}},[t._v(")")])]),t._v("\n\n"),a("span",{staticClass:"line"},[a("span",{staticStyle:{color:"#24292E"}},[t._v("root.destroy()")])])])])]),a("h3",{attrs:{id:"打包成-exe"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包成-exe"}},[t._v("#")]),t._v(" 打包成 exe")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("pyinstaller --onefile --noconsole main.py\n")])])]),a("h4",{attrs:{id:"附-更改图标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#附-更改图标"}},[t._v("#")]),t._v(" 附：更改图标")]),t._v(" "),a("p",[t._v("用 Resource Hacker 打开要改图标的 exe，"),a("code",[t._v("Action > Replace Icon ...")]),t._v("，然后选择一个有图标的 exe 替换（比如 "),a("code",[t._v("pythonw.exe")]),t._v("）")])])}),[],!1,null,null,null);s.default=c.exports}}]);